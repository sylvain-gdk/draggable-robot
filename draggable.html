<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>jQuery UI Draggable - Default functionality</title>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="/resources/demos/style.css">

    <style>
      .start1 { position: fixed; left: 0px; top: 432px; }
      .start2 { position: fixed; left: 50px; top: 400px; }
      .start3 { position: fixed; left: 100px; top: 432px; }
      .start4 { position: fixed; left: 200px; top: 432px; }
      .start5 { position: fixed; right: 0px; top: 432px; }


      * { box-sizing: border-box; }
      body, figure { margin: 0; }
      img, button { display: block; width: 100%;}

      @media (min-width: 12em) {
        figure {
          display: block;
          float: left;
          width: 33%;
        }
      }

      button {width: 50%; margin-top: 10px; margin-left: 25%; margin-right: 25%}

    </style>

    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>
    <script src="https://digital.nightspublications.com/js/jquery.ui.touch-punch.min.js"></script>
    <script>

      var count = 1;

      function compare(id, ui, target){
        if((Math.floor(ui.position.top) == target.offsetTop || Math.ceil(ui.position.top) == target.offsetTop) && (Math.floor(ui.position.left) == target.offsetLeft || Math.ceil(ui.position.Left) == target.offsetLeft)){
          count++;
          $( id ).draggable( "disable" );
          if(count > 5){
            var hide = document.getElementsByTagName("img");
            for(var i = 0; i < hide.length; i++){
              hide[i].src = "";
            }
            var animate = document.getElementById("animate");
            animate.src = "http://digital.nightspublications.com/ar/images/robot-character_ANIME.gif";
            var again = document.getElementsByTagName("button");
            again.innerHTML = "Jouer encore?!";
          }
        }
      }

      $( function() {
        $( "#image2" ).draggable({
          snap: ".ui-widget-image2",
          snapMode: "inner",
          opacity: 0.35,
          stop: function(event, ui){
            let target = document.getElementById("snaptarget2");
            compare("#image2", ui, target);
          }
        });
      } );

      $( function() {
        $( "#image4" ).draggable({
          snap: ".ui-widget-image4",
          snapMode: "inner",
          opacity: 0.35,
          stop: function(event, ui){
            let target = document.getElementById("snaptarget4");
            compare("#image4", ui, target);
          }
         });
      } );

      $( function() {
        $( "#image5" ).draggable({
          snap: ".ui-widget-image5",
          snapMode: "inner",
          opacity: 0.35,
          stop: function(event, ui){
            let target = document.getElementById("snaptarget5");
            compare("#image5", ui, target);
          }
        });
      } );

      $( function() {
        $( "#image6" ).draggable({
          snap: ".ui-widget-image6",
          snapMode: "inner",
          opacity: 0.35,
          stop: function(event, ui){
            let target = document.getElementById("snaptarget6");
            compare("#image6", ui, target);
          }
        });
      } );

      $( function() {
        $( "#image8" ).draggable({
          snap: ".ui-widget-image8",
          snapMode: "inner",
          opacity: 0.35,
          stop: function(event, ui){
            let target = document.getElementById("snaptarget8");
            compare("#image8", ui, target);
          }
        });
      } );

    </script>
  </head>

  <body>

    <div>
      <img id = "animate" src=""/>
    </div>

    <figure>
      <img src="http://digital.nightspublications.com/ar/images/robot-character_EMPTY_01.png"/>
    </figure>

    <figure id="snaptarget2" class="ui-widget-image2">
      <img src="http://digital.nightspublications.com/ar/images/robot-character_EMPTY_02.png"/>
    </figure>

    <figure>
      <img src="http://digital.nightspublications.com/ar/images/robot-character_EMPTY_03.png"/>
    </figure>

    <figure id="snaptarget4" class="ui-widget-image4">
      <img src="http://digital.nightspublications.com/ar/images/robot-character_EMPTY_04.png"/>
    </figure>

    <figure id="snaptarget5" class="ui-widget-image5">
      <img src="http://digital.nightspublications.com/ar/images/robot-character_EMPTY_05.png"/>
    </figure>

    <figure id="snaptarget6" class="ui-widget-image6">
      <img src="http://digital.nightspublications.com/ar/images/robot-character_EMPTY_06.png"/>
    </figure>

    <figure>
      <img src="http://digital.nightspublications.com/ar/images/robot-character_EMPTY_07.png"/>
    </figure>

    <figure id="snaptarget8" class="ui-widget-image8">
      <img src="http://digital.nightspublications.com/ar/images/robot-character_EMPTY_08.png"/>
    </figure>

    <figure>
      <img src="http://digital.nightspublications.com/ar/images/robot-character_EMPTY_09.png"/>
    </figure>




    <figure id="image6" class="start1">
      <img src="http://digital.nightspublications.com/ar/images/robot-character_BCKG_06.png"/>
    </figure>

    <figure id="image2" class="start2">
      <img src="http://digital.nightspublications.com/ar/images/robot-character_BCKG_02.png"/>
    </figure>

    <figure id="image8" class="start3">
      <img src="http://digital.nightspublications.com/ar/images/robot-character_BCKG_08.png"/>
    </figure>

    <figure id="image5" class="start4">
      <img src="http://digital.nightspublications.com/ar/images/robot-character_BCKG_05.png"/>
    </figure>

    <figure id="image4" class="start5">
      <img src="http://digital.nightspublications.com/ar/images/robot-character_BCKG_04.png"/>
    </figure>

    <button style="font-size: 30px" onclick="location.href='file:///home/sgoedike/lighthouse/draggable-robot/draggable.html';">
      Recommencer
    </button>

  </body>
</html>